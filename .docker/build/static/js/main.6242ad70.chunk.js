(this["webpackJsonpmfte-capstone"]=this["webpackJsonpmfte-capstone"]||[]).push([[0],{50:function(e,t,n){},62:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var c=n(3),r=(n(46),n(2)),a=n.n(r),o=n(22),s=(n(50),n(25)),i=n(69),l=n(70),u=n(26),d=function(){return Object(c.jsx)("div",{className:"navbar",children:Object(c.jsxs)(i.a,{variant:"light",children:[Object(c.jsxs)(l.a,{className:"mr-auto",children:[Object(c.jsx)(u.LinkContainer,{to:"/",children:Object(c.jsx)(l.a.Link,{children:Object(c.jsx)("strong",{children:"MFTE Simple"})})}),Object(c.jsx)(u.LinkContainer,{to:"/buildings",children:Object(c.jsx)(l.a.Link,{children:"All Buildings"})}),Object(c.jsx)(u.LinkContainer,{to:"/about-mfte",children:Object(c.jsx)(l.a.Link,{children:"About MFTE"})}),Object(c.jsx)(u.LinkContainer,{to:"/about-mfte-simple",children:Object(c.jsx)(l.a.Link,{children:"About this app"})})]}),"\\"]})})},j=n.p+"static/media/houses.6ad98ee6.png",b=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{className:"img-fluid",src:j,alt:"Seattle skyline"}),Object(c.jsx)("div",{className:"text-center",children:"Copyright \xa9 2021 Anya Tokar"})]})},m=n(23),p=n(6),f={defaults:{namespace:"Application"}}.defaults.namespace,h=function(){return(new Date).toISOString()},O={info:function(e,t){"string"===typeof e?console.log("[".concat(h(),"] [").concat(t||f,"] [INFO] ").concat(e)):console.log("[".concat(h(),"] [").concat(t||f,"] [INFO]"),e)},warn:function(e,t){"string"===typeof e?console.log("[".concat(h(),"] [").concat(t||f,"] [WARN] ").concat(e)):console.log("[".concat(h(),"] [").concat(t||f,"] [WARN]"),e)},error:function(e,t){"string"===typeof e?console.log("[".concat(h(),"] [").concat(t||f,"] [ERROR] ").concat(e)):console.log("[".concat(h(),"] [").concat(t||f,"] [ERROR]"),e)}},g=n(43),x=n(11),v=(n(62),n(39),[]),y=function(e){var t=e.mapType,n=e.mapTypeControl,a=void 0!==n&&n,o=e.filteredBuildings,s=Object(r.useRef)(null),i=Object(r.useState)(),l=Object(x.a)(i,2),u=l[0],d=l[1];Object(r.useEffect)((function(){u||(j(),console.log("hello"))}),[u]);var j=function(){var e=new google.maps.LatLng(47.608013,-122.335167);b(12,e)},b=function(e,n){s.current&&d(new google.maps.Map(s.current,{zoom:e,center:n,mapTypeControl:a,streetViewControl:!1,rotateControl:!1,scaleControl:!0,fullscreenControl:!1,panControl:!1,zoomControl:!0,gestureHandling:"cooperative",mapTypeId:t,draggableCursor:"pointer"}))};function m(){!function(e){for(var t=0;t<v.length;t++)v[t].setMap(e)}(null)}function p(e){var t=new google.maps.Marker({position:new google.maps.LatLng({lat:e.lat,lng:e.lng}),map:u,animation:google.maps.Animation.DROP});v.push(t)}return function(e){m(),v=[];for(var t=0;t<e.length;t++)p(e[t])}(o),Object(c.jsx)("div",{className:"map-container",children:Object(c.jsx)("div",{ref:s,className:"map-container__map"})})},N=n(36);n(63);N.a.initializeApp({apiKey:"AIzaSyBqbsaul-YJZ57Nii5AurZm3ebn1cbgYJY",authDomain:"mfte-simple-92c08.firebaseapp.com",databaseURL:"https://mfte-simple-92c08-default-rtdb.firebaseio.com/",projectId:"mfte-simple-92c08",storageBucket:"mfte-simple-92c08.appspot.com",messagingSenderId:"594673713013",appId:"1:594673713013:web:e6e60f494477b92a18dd3c",measurementId:"mfte-simple-92c08.appspot.com"});var S=N.a;function C(e){var t=e.object,n=e.onChangeSorter;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("label",{htmlFor:"sorters",className:"mt-3"}),Object(c.jsx)("select",{id:"sorters",className:"custom-select form-control w-50",onChange:function(e){return n(e.target.value.split(",")[0],"true"===e.target.value.split(",")[1])},defaultValue:["title","true"],children:Object.keys(t).map((function(e){return e?"buildingName"===e?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("option",{value:[e,"true"],children:"sort descending by building name"},"".concat(e,"-true")),Object(c.jsx)("option",{value:[e,"false"],children:"sort ascending by building name"},"".concat(e,"-false"))]}):void 0:Object(c.jsx)(c.Fragment,{})}))})]})}function T(e){var t=Object(r.useState)(),n=Object(x.a)(t,2),a=n[0],o=n[1],s=e.onChangeSearchQuery,i=function(e,t){var n=Object(r.useState)(e),c=Object(x.a)(n,2),a=c[0],o=c[1];return Object(r.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}})),a}(a,300);return Object(r.useEffect)((function(){void 0!==i&&s(i)}),[i,s]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("label",{htmlFor:"search",className:"mt-3",children:"Enter neighborhood, building name, street address, or zip code:"}),Object(c.jsx)("input",{id:"search",className:"form-control w-50",type:"search",placeholder:"Search","aria-label":"Search",onChange:function(e){return o(e.target.value)}})]})}function F(e){var t=e.buildingName,n=e.phone,r=e.residentialTargetedArea,a=e.totalRestrictedUnits,o=e.studioUnits,s=e.oneBedroomUnits,i=e.twoBedroomUnits,l=e.threePlusBedroomUnits,u=e.urlforBuilding,d=e.number,j=e.street,b=e.city,m=e.state,p=e.zip;return Object(c.jsx)("div",{className:"col-12 p-3",children:Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h1",{className:"card-title",children:t}),Object(c.jsxs)("p",{className:"card-text",children:["Neighborhood: ",r]}),Object(c.jsxs)("p",{className:"card-text",children:["Address: ",d," ",j,", ",b,", ",m," ",p]}),Object(c.jsxs)("p",{className:"card-text",children:["Total Resticted Units: ",a]}),Object(c.jsxs)("p",{className:"card-text font-italic",children:["Studios: ",o]}),Object(c.jsxs)("p",{className:"card-text font-italic",children:["One bedrooms: ",s]}),Object(c.jsxs)("p",{className:"card-text font-italic",children:["Two bedrooms: ",i]}),Object(c.jsxs)("p",{className:"card-text font-italic",children:["Three+ bedrooms: ",l]})]}),Object(c.jsxs)("div",{className:"card-footer text-muted text-right",children:[Object(c.jsx)("span",{className:"float-left",children:Object(c.jsx)("a",{href:u,children:u})})," Phone number: ",n]})]})})}function k(e){var t=e.object,n=e.filters,r=e.onChangeFilter,a=Object(c.jsx)(c.Fragment,{}),o=Object(c.jsxs)(c.Fragment,{children:["is ",Object(c.jsx)("b",{children:"falsy"})]});return Object(c.jsxs)("div",{className:"p-1 my-2",children:[Object(c.jsx)("label",{className:"mt-3",children:"Filter by number of bedrooms:"}),Object.keys(t).map((function(e){if("studioUnits"!==e&&"oneBedroomUnits"!==e&&"twoBedroomUnits"!==e&&"threePlusBedroomUnits"!==e)return"";var t="";"studioUnits"===e?t="Studios":"oneBedroomUnits"===e?t="One bedrooms":"twoBedroomUnits"===e?t="Two bedrooms":"threePlusBedroomUnits"===e&&(t="Three or more bedrooms");return Object(c.jsx)("div",{className:"input-group my-3",children:function(s){var i=s?"radio-defined-".concat(e):"radio-not-defined-".concat(e),l=s?a:o;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("input",{type:"checkbox",id:i,value:e,checked:function(){var t=n.filter((function(t){return t.property===e}));return 1===t.length&&t[0].isTruthyPicked===s}(),onChange:function(t){return r(e,t.target.checked,s)},className:"m-1 ml-3"}),Object(c.jsxs)("label",{htmlFor:i,children:[t,"  ",l]})]})}(!0)},e)}))]})}var w=Object(p.o)((function(e){var t=Object(r.useState)(!1),n=Object(x.a)(t,2),a=n[0],o=n[1],i=Object(r.useState)([]),l=Object(x.a)(i,2),u=l[0],d=l[1],j=Object(r.useState)(!1),b=Object(x.a)(j,2),m=(b[0],b[1]),p=S.firestore().collection("buildings");Object(r.useEffect)((function(){m(!0),p.onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),d(t),m(!1)}))}),[]),Object(r.useEffect)((function(){(function(){for(var e="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyBqbsaul-YJZ57Nii5AurZm3ebn1cbgYJY","&libraries=places&language=en&v=quarterly"),t=document.getElementsByTagName("script"),n=0;n<t.length;n++)if(0===t[n].src.indexOf(e))return t[n];var c=document.createElement("script");return c.src=e,c.async=!0,c.defer=!0,window.document.body.appendChild(c),c})().addEventListener("load",(function(){o(!0),console.log("code is running!!!!!")}))}),[]);var f=Object(r.useState)(""),h=Object(x.a)(f,2),v=h[0],N=h[1],w=Object(r.useState)({property:"buildingName",isDescending:!1}),B=Object(x.a)(w,2),L=B[0],E=B[1],A=Object(r.useState)([]),R=Object(x.a)(A,2),U=R[0],P=R[1],I=u.filter((function(e){return function(e,t,n){return""===n||t.some((function(t){var c=e[t];return("string"===typeof c||"number"===typeof c)&&c.toString().toLowerCase().includes(n.toLowerCase())}))}(e,["buildingName","residentialTargetedArea","number","street","zip"],v)})).filter((function(e){return t=e,0===(n=U).length||n.every((function(e){return e.isTruthyPicked?t[e.property]:!t[e.property]}));var t,n})).sort((function(e,t){return function(e,t,n){var c=function(){return e[n.property]>t[n.property]?1:e[n.property]<t[n.property]?-1:0};return n.isDescending?-1*c():c()}(e,t,L)})),M=Object(r.useState)(""),D=Object(x.a)(M,2),z=(D[0],D[1]);return Object(r.useEffect)((function(){O.info("Loading ".concat(e.name));var t=e.match.params.number;z(t?"The Number is ".concat(t):"No number provided!")}),[e]),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"container mx-auto my-2",children:[Object(c.jsx)(T,{onChangeSearchQuery:function(e){return N(e)}}),u.length>0&&Object(c.jsx)(C,{object:u[0],onChangeSorter:function(e,t){E({property:e,isDescending:t})}}),u.length>0&&Object(c.jsx)(k,{object:u[0],filters:U,onChangeFilter:function(e,t,n){P(t?[].concat(Object(g.a)(U.filter((function(t){return t.property!==e}))),[{property:e,isTruthyPicked:n}]):U.filter((function(t){return t.property!==e})))}})]}),Object(c.jsx)("div",{children:a&&Object(c.jsx)(y,{mapType:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,filteredBuildings:I})}),Object(c.jsxs)("div",{className:"container mx-auto my-2",children:[Object(c.jsx)("h3",{children:"Search results:"}),I.length>0&&Object(c.jsx)("div",{className:"row",children:I.map((function(e){return Object(c.jsx)(F,Object(s.a)({},e),e.buildingName)}))}),0===I.length&&Object(c.jsx)("p",{children:"No results found!"})]})]})})),B=[{path:"/",name:"Home Page",component:function(e){Object(r.useEffect)((function(){O.info("Loading ".concat(e.name))}),[e.name]);var t=Object(r.useState)(""),n=Object(x.a)(t,2);n[0],n[1];return Object(c.jsx)("div",{className:"jumbotron",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h1",{className:"display-4",children:"MFTE Simple"}),Object(c.jsx)("p",{className:"lead",children:"Find safe, comfortable, and affordable apartments for rent in Seattle."}),Object(c.jsxs)("p",{className:"lead",children:[Object(c.jsx)("a",{className:"btn btn-primary btn-lg",href:"#",role:"button",children:"Search Buildings"}),Object(c.jsx)("a",{className:"btn btn-primary btn-lg",href:"#",role:"button",children:"About MFTE"})]})]})})},exact:!0},{path:"/buildings",name:"Buildings Page",component:w,exact:!0},{path:"/buildings/:number",name:"Building Details Page",component:w,exact:!0}],L=function(e){return Object(r.useEffect)((function(){O.info("Loading application.")}),[]),Object(c.jsxs)("div",{children:[Object(c.jsxs)(m.BrowserRouter,{children:[Object(c.jsx)(d,{}),Object(c.jsx)(p.g,{children:B.map((function(e,t){return Object(c.jsx)(p.d,{path:e.path,exact:e.exact,render:function(t){return Object(c.jsx)(e.component,Object(s.a)(Object(s.a)({name:e.name},t),e.props))}},t)}))})]}),Object(c.jsx)(b,{})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};Object(o.render)(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(L,{})}),document.getElementById("root")),E()}},[[66,1,2]]]);
//# sourceMappingURL=main.6242ad70.chunk.js.map